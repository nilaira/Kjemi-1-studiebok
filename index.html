
<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aqua Kjemi 2 Studiebok</title>
    <style>
        :root { --bg: #121212; --panel: #1e1e1e; --accent: #0078d7; --text: #e0e0e0; --border: #333; }
        body { margin: 0; display: flex; height: 100vh; background: var(--bg); color: var(--text); font-family: sans-serif; overflow: hidden; }
        #sidebar { width: 0; background: var(--panel); border-right: 1px solid var(--border); transition: 0.3s; overflow: hidden; }
        #sidebar.open { width: 320px; }
        .sidebar-header { padding: 20px; font-weight: bold; border-bottom: 1px solid var(--border); min-width: 320px; }
        .toc-item { border-bottom: 1px solid var(--border); }
        .toc-header { padding: 12px 15px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; font-size: 14px; }
        .toc-sub { max-height: 0; overflow: hidden; transition: 0.3s ease-out; background: #151515; }
        .toc-item.open .toc-sub { max-height: 800px; }
        .sub-item { padding: 8px 15px 8px 30px; cursor: pointer; font-size: 13px; color: #aaa; }
        .sub-item:hover { color: white; border-left: 3px solid var(--accent); }
        #main { flex: 1; display: flex; flex-direction: column; background: #3c3f41; min-width: 0; }
        #toolbar { height: 50px; background: var(--panel); display: flex; align-items: center; padding: 0 15px; gap: 12px; border-bottom: 1px solid var(--border); }
        button { background: #444; color: white; border: none; padding: 8px 14px; border-radius: 4px; cursor: pointer; }
        input[type="number"] { background: #2b2b2b; color: white; border: 1px solid #555; padding: 6px; width: 60px; text-align: center; border-radius: 4px; }
        #viewport { flex: 1; overflow: auto; display: flex; justify-content: center; padding: 20px; }
        #book-container { display: flex; background: white; box-shadow: 0 0 40px rgba(0,0,0,0.6); transform-origin: top center; }
        .page-img { height: 88vh; border-right: 1px solid #ccc; }
    </style>
</head>
<body>
<div id="sidebar">
    <div class="sidebar-header">Aqua Kjemi 2 - Studiebok</div>
    <div id="toc-content"></div>
</div>
<div id="main">
    <div id="toolbar">
        <button onclick="toggleSidebar()">☰</button>
        <button onclick="nav(-1)">❮</button>
        <input type="number" id="page-input" min="1" max="328" onkeydown="if(event.key==='Enter') jumpToPage()">
        <span>/ 328</span>
        <button onclick="nav(1)">❯</button>
        <div style="flex:1"></div>
        <button onclick="zoom(-0.1)">-</button>
        <button onclick="resetZ()">100%</button>
        <button onclick="zoom(0.1)">+</button>
    </div>
    <div id="viewport"><div id="book-container"></div></div>
</div>
<script>
    const tocData = [{"tittel": "Hvordan bruke Aqua", "side": 8, "under": []}, {"tittel": "Kjemi \u2013 et viktig fag i dagens verden", "side": 10, "under": []}, {"tittel": "1 Atomer, molekyler og ioner", "side": 16, "under": [{"tittel": "1.1 Atomet - element\u00e6rpartiklene", "side": 18}, {"tittel": "1.2 Grunnstoffer og isotoper", "side": 21}, {"tittel": "1.3 Elektronstruktur", "side": 25}, {"tittel": "1.4 Mendelejevs periodiske system", "side": 27}, {"tittel": "1.5 Kjemiske forbindelser", "side": 29}, {"tittel": "1.6 Salter", "side": 32}, {"tittel": "1.7 Formelenhet", "side": 33}, {"tittel": "1.8 Saltformler og ioneladninger", "side": 34}, {"tittel": "1.9 Lys \u2013 b\u00f8lgenatur eller partikkelnatur?", "side": 37}, {"tittel": "1.10 Bohrs modell for hydrogenatomet", "side": 42}, {"tittel": "1.11 Atomorbitaler", "side": 46}, {"tittel": "1.12 Det periodiske systemet", "side": 49}]}, {"tittel": "2 Kjemiske bindinger", "side": 54, "under": [{"tittel": "2.1 Periodiske egenskaper", "side": 56}, {"tittel": "2.2 Elektronegativitet og bindingstype", "side": 62}, {"tittel": "2.3 Dipoler \u2013 molekylgeometri", "side": 67}, {"tittel": "2.4 Metallbinding", "side": 71}, {"tittel": "2.5 Bindinger mellom molekyler", "side": 74}, {"tittel": "2.6 Vann og is", "side": 79}, {"tittel": "2.7 Oversikt over bindingstyper", "side": 86}]}, {"tittel": "3 Kjemiske reaksjoner og navnsetting", "side": 88, "under": [{"tittel": "3.1 Kjemiske reaksjoner", "side": 90}, {"tittel": "3.2 Reaksjonstyper", "side": 91}, {"tittel": "3.3 Navnsetting av uorganiske forbindelser", "side": 100}]}, {"tittel": "4 St\u00f8kiometri", "side": 106, "under": [{"tittel": "4.1 Reaksjonslikninger", "side": 108}, {"tittel": "4.2 Hva er st\u00f8kiometri?", "side": 110}, {"tittel": "4.3 Atommmasse og molekylmasse", "side": 112}, {"tittel": "4.4 Gjeldende siffer", "side": 114}, {"tittel": "4.5 Molbegrepet og stoffmengde", "side": 118}, {"tittel": "4.6 Empirisk formel", "side": 122}, {"tittel": "4.7 St\u00f8kiometriske beregninger", "side": 124}, {"tittel": "4.8 Avogadros lov", "side": 129}, {"tittel": "4.9 Massetetthet", "side": 130}, {"tittel": "4.10 Konsentrasjon", "side": 131}]}, {"tittel": "5 Organiske forbindelser", "side": 138, "under": [{"tittel": "5.1 Organiske forbindelser", "side": 140}, {"tittel": "5.2 Hydrokarboner", "side": 141}, {"tittel": "5.3 Funksjonelle grupper", "side": 148}, {"tittel": "5.4 Alkoholer", "side": 149}, {"tittel": "5.5 Karbonylforbindelser", "side": 152}, {"tittel": "5.6 Estere", "side": 158}, {"tittel": "5.7 L\u00f8selighet", "side": 159}]}, {"tittel": "6 Termokjemi", "side": 162, "under": [{"tittel": "6.1 System og omgivelser", "side": 164}, {"tittel": "6.2 Energi, arbeid og varme", "side": 165}, {"tittel": "6.3 Dannelsesentalpi og reaksjonsentalpi", "side": 168}, {"tittel": "6.4 Endoterme og eksoterme reaksjoner", "side": 171}, {"tittel": "6.5 Reaksjonsfart", "side": 174}, {"tittel": "6.6 Hvordan skjer en reaksjon?", "side": 175}, {"tittel": "6.7 Faktorer som p\u00e5virker reaksjonsfart", "side": 179}]}, {"tittel": "7 Kjemisk likevekt", "side": 184, "under": [{"tittel": "7.1 Reversible reaksjoner", "side": 186}, {"tittel": "7.2 Likevektstilstanden", "side": 188}, {"tittel": "7.3 Likevektsberegninger", "side": 191}, {"tittel": "7.4 Reaksjonskvotienten Q", "side": 196}, {"tittel": "7.5 Forskyvning av likevekt", "side": 197}]}, {"tittel": "8 Syrer og baser", "side": 202, "under": [{"tittel": "8.1 Syrer og baser i hverdagen", "side": 204}, {"tittel": "8.2 Br\u00f8nstedlikevekter", "side": 207}, {"tittel": "8.3 Vannets egenprotolyse", "side": 208}, {"tittel": "8.4 Sterke syrer og baser", "side": 210}, {"tittel": "8.5 pH-skalaen", "side": 214}, {"tittel": "8.6 pH i blandinger", "side": 217}, {"tittel": "8.7 Svake syrer og baser", "side": 218}, {"tittel": "8.8 N\u00f8ytraliseringer", "side": 222}, {"tittel": "8.9 Syre-baseindikatorer", "side": 224}, {"tittel": "8.10 Syre-basetitreringer", "side": 226}]}, {"tittel": "9 L\u00f8sninger og l\u00f8selighet", "side": 230, "under": [{"tittel": "9.1 L\u00f8sningsmiddel og l\u00f8st stoff", "side": 232}, {"tittel": "9.2 Vann som l\u00f8sningsmiddel", "side": 233}, {"tittel": "9.3 Polaritet", "side": 235}, {"tittel": "9.4 L\u00f8sningsprosessen", "side": 237}, {"tittel": "9.5 L\u00f8selighet", "side": 239}, {"tittel": "9.7 L\u00f8selighet av gasser \u2013 Henrys lov", "side": 242}, {"tittel": "9.8 Temperatur og l\u00f8selighet", "side": 248}, {"tittel": "9.10 Fellingsreaksjoner", "side": 251}]}, {"tittel": "10 Kjemisk analyse", "side": 256, "under": [{"tittel": "10.1 Enkle kjemiske tester", "side": 258}, {"tittel": "10.2 Gravimetriske og volumetriske analyser", "side": 259}, {"tittel": "10.3 Spektroskopiske analyser", "side": 265}, {"tittel": "10.4 Analyser av vann og luft", "side": 280}]}, {"tittel": "11 Gr\u00f8nn kjemi", "side": 286, "under": [{"tittel": "11.1 B\u00e6rekraftig kjemi", "side": 288}, {"tittel": "11.2 Produktets livsl\u00f8p", "side": 290}, {"tittel": "11.3 Plast", "side": 292}, {"tittel": "11.4 Kl\u00e6r og tekstiler", "side": 296}, {"tittel": "11.5 Gjenbruk og redesign", "side": 298}, {"tittel": "11.6 Materialers milj\u00f8avtrykk", "side": 304}]}, {"tittel": "Stikkord", "side": 308, "under": []}];
    const fileList = ["page0001.svgz", "page0002.svgz", "page0003.svgz", "page0004.svgz", "page0005.svgz", "page0006.svgz", "page0007.svgz", "page0008.svgz", "page0009.svgz", "page0010.svgz", "page0011.svgz", "page0012.svgz", "page0013.svgz", "page0014.svgz", "page0015.svgz", "page0016.svgz", "page0017.svgz", "page0018.svgz", "page0019.svgz", "page0020.svgz", "page0021.svgz", "page0022.svgz", "page0023.svgz", "page0024.svgz", "page0025.svgz", "page0026.svgz", "page0027.svgz", "page0028.svgz", "page0029.svgz", "page0030.svgz", "page0031.svgz", "page0032.svgz", "page0033.svgz", "page0034.svgz", "page0035.svgz", "page0036.svgz", "page0037.svgz", "page0038.svgz", "page0039.svgz", "page0040.svgz", "page0041.svgz", "page0042.svgz", "page0043.svgz", "page0044.svgz", "page0045.svgz", "page0046.svgz", "page0047.svgz", "page0048.svgz", "page0049.svgz", "page0050.svgz", "page0051.svgz", "page0052.svgz", "page0053.svgz", "page0054.svgz", "page0055.svgz", "page0056.svgz", "page0057.svgz", "page0058.svgz", "page0059.svgz", "page0060.svgz", "page0061.svgz", "page0062.svgz", "page0063.svgz", "page0064.svgz", "page0065.svgz", "page0066.svgz", "page0067.svgz", "page0068.svgz", "page0069.svgz", "page0070.svgz", "page0071.svgz", "page0072.svgz", "page0073.svgz", "page0074.svgz", "page0075.svgz", "page0076.svgz", "page0077.svgz", "page0078.svgz", "page0079.svgz", "page0080.svgz", "page0081.svgz", "page0082.svgz", "page0083.svgz", "page0084.svgz", "page0085.svgz", "page0086.svgz", "page0087.svgz", "page0088.svgz", "page0089.svgz", "page0090.svgz", "page0091.svgz", "page0092.svgz", "page0093.svgz", "page0094.svgz", "page0095.svgz", "page0096.svgz", "page0097.svgz", "page0098.svgz", "page0099.svgz", "page0100.svgz", "page0101.svgz", "page0102.svgz", "page0103.svgz", "page0104.svgz", "page0105.svgz", "page0106.svgz", "page0107.svgz", "page0108.svgz", "page0109.svgz", "page0110.svgz", "page0111.svgz", "page0112.svgz", "page0113.svgz", "page0114.svgz", "page0115.svgz", "page0116.svgz", "page0117.svgz", "page0118.svgz", "page0119.svgz", "page0120.svgz", "page0121.svgz", "page0122.svgz", "page0123.svgz", "page0124.svgz", "page0125.svgz", "page0126.svgz", "page0127.svgz", "page0128.svgz", "page0129.svgz", "page0130.svgz", "page0131.svgz", "page0132.svgz", "page0133.svgz", "page0134.svgz", "page0135.svgz", "page0136.svgz", "page0137.svgz", "page0138.svgz", "page0139.svgz", "page0140.svgz", "page0141.svgz", "page0142.svgz", "page0143.svgz", "page0144.svgz", "page0145.svgz", "page0146.svgz", "page0147.svgz", "page0148.svgz", "page0149.svgz", "page0150.svgz", "page0151.svgz", "page0152.svgz", "page0153.svgz", "page0154.svgz", "page0155.svgz", "page0156.svgz", "page0157.svgz", "page0158.svgz", "page0159.svgz", "page0160.svgz", "page0161.svgz", "page0162.svgz", "page0163.svgz", "page0164.svgz", "page0165.svgz", "page0166.svgz", "page0167.svgz", "page0168.svgz", "page0169.svgz", "page0170.svgz", "page0171.svgz", "page0172.svgz", "page0173.svgz", "page0174.svgz", "page0175.svgz", "page0176.svgz", "page0177.svgz", "page0178.svgz", "page0179.svgz", "page0180.svgz", "page0181.svgz", "page0182.svgz", "page0183.svgz", "page0184.svgz", "page0185.svgz", "page0186.svgz", "page0187.svgz", "page0188.svgz", "page0189.svgz", "page0190.svgz", "page0191.svgz", "page0192.svgz", "page0193.svgz", "page0194.svgz", "page0195.svgz", "page0196.svgz", "page0197.svgz", "page0198.svgz", "page0199.svgz", "page0200.svgz", "page0201.svgz", "page0202.svgz", "page0203.svgz", "page0204.svgz", "page0205.svgz", "page0206.svgz", "page0207.svgz", "page0208.svgz", "page0209.svgz", "page0210.svgz", "page0211.svgz", "page0212.svgz", "page0213.svgz", "page0214.svgz", "page0215.svgz", "page0216.svgz", "page0217.svgz", "page0218.svgz", "page0219.svgz", "page0220.svgz", "page0221.svgz", "page0222.svgz", "page0223.svgz", "page0224.svgz", "page0225.svgz", "page0226.svgz", "page0227.svgz", "page0228.svgz"];
    const MAX_P = 328;
    let viewIdx = 0, currZoom = 1.0;

    function toggleSidebar() { document.getElementById('sidebar').classList.toggle('open'); }
    function renderTOC() {
        const con = document.getElementById('toc-content');
        let html = '';
        tocData.forEach((kap, idx) => {
            const hasSub = kap.under && kap.under.length > 0;
            const action = hasSub ? `toggleKap(${idx})` : `goToPage(${kap.side})`;
            html += `<div class="toc-item" id="kap-${idx}"><div class="toc-header" onclick="${action}"><span>${kap.tittel}</span></div>`;
            if(hasSub) {
                html += `<div class="toc-sub">`;
                kap.under.forEach(sub => { html += `<div class="sub-item" onclick="goToPage(${sub.side})">${sub.tittel}</div>`; });
                html += `</div>`;
            }
            html += `</div>`;
        });
        con.innerHTML = html;
    }
    function toggleKap(idx) { document.getElementById('kap-' + idx).classList.toggle('open'); }
    function renderPage() {
        const con = document.getElementById('book-container'); con.innerHTML = '';
        let p1 = (viewIdx === 0) ? 1 : viewIdx * 2;
        let p2 = (viewIdx === 0) ? null : viewIdx * 2 + 1;
        if (p1 <= MAX_P) addPage(p1);
        if (p2 && p2 <= MAX_P) addPage(p2);
        document.getElementById('page-input').value = p1;
        document.getElementById('viewport').scrollTop = 0;
    }
    function addPage(num) {
        const img = document.createElement('img');
        img.src = fileList[num - 1]; img.className = 'page-img';
        img.setAttribute('type', 'image/svg+xml');
        document.getElementById('book-container').appendChild(img);
    }
    function jumpToPage() {
        let p = parseInt(document.getElementById('page-input').value);
        if(isNaN(p) || p < 1) p = 1; if(p > MAX_P) p = MAX_P;
        goToPage(p);
    }
    function nav(dir) {
        let next = viewIdx + dir;
        if (next >= 0 && next <= Math.floor(MAX_P / 2)) { viewIdx = next; renderPage(); }
    }
    function goToPage(p) { viewIdx = (p === 1) ? 0 : Math.floor(p / 2); renderPage(); }
    function zoom(v) { currZoom += v; applyZ(); }
    function resetZ() { currZoom = 1.0; applyZ(); }
    function applyZ() { document.getElementById('book-container').style.transform = `scale(${currZoom})`; }

    renderTOC(); renderPage();
</script>
</body>
</html>
    
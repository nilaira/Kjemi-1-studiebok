
<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aqua Kjemi 2 Studiebok</title>
    <style>
        :root { --bg: #121212; --panel: #1e1e1e; --accent: #0078d7; --text: #e0e0e0; --border: #333; }
        body { margin: 0; display: flex; height: 100vh; background: var(--bg); color: var(--text); font-family: sans-serif; overflow: hidden; }
        #sidebar { width: 0; background: var(--panel); border-right: 1px solid var(--border); transition: 0.3s; overflow: hidden; }
        #sidebar.open { width: 320px; }
        .sidebar-header { padding: 20px; font-weight: bold; border-bottom: 1px solid var(--border); min-width: 320px; }
        .toc-item { border-bottom: 1px solid var(--border); }
        .toc-header { padding: 12px 15px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; font-size: 14px; }
        .toc-sub { max-height: 0; overflow: hidden; transition: 0.3s ease-out; background: #151515; }
        .toc-item.open .toc-sub { max-height: 800px; }
        .sub-item { padding: 8px 15px 8px 30px; cursor: pointer; font-size: 13px; color: #aaa; }
        .sub-item:hover { color: white; border-left: 3px solid var(--accent); }
        #main { flex: 1; display: flex; flex-direction: column; background: #3c3f41; min-width: 0; }
        #toolbar { height: 50px; background: var(--panel); display: flex; align-items: center; padding: 0 15px; gap: 12px; border-bottom: 1px solid var(--border); }
        button { background: #444; color: white; border: none; padding: 8px 14px; border-radius: 4px; cursor: pointer; }
        input[type="number"] { background: #2b2b2b; color: white; border: 1px solid #555; padding: 6px; width: 60px; text-align: center; border-radius: 4px; }
        #viewport { flex: 1; overflow: auto; display: flex; justify-content: center; padding: 20px; }
        #book-container { display: flex; background: white; box-shadow: 0 0 40px rgba(0,0,0,0.6); transform-origin: top center; }
        .page-img { height: 88vh; border-right: 1px solid #ccc; }
    </style>
</head>
<body>
<div id="sidebar">
    <div class="sidebar-header">Aqua Kjemi 2 - Studiebok</div>
    <div id="toc-content"></div>
</div>
<div id="main">
    <div id="toolbar">
        <button onclick="toggleSidebar()">☰</button>
        <button onclick="nav(-1)">❮</button>
        <input type="number" id="page-input" min="1" max="328" onkeydown="if(event.key==='Enter') jumpToPage()">
        <span>/ 328</span>
        <button onclick="nav(1)">❯</button>
        <div style="flex:1"></div>
        <button onclick="zoom(-0.1)">-</button>
        <button onclick="resetZ()">100%</button>
        <button onclick="zoom(0.1)">+</button>
    </div>
    <div id="viewport"><div id="book-container"></div></div>
</div>
<script>
    const tocData = [{"tittel": "I kjemilaboratoriet", "side": 7, "under": []}, {"tittel": "Kjemi \u2013 et viktig fag i dagens verden", "side": 14, "under": [{"tittel": "A 1 Elevforedrag", "side": 15}]}, {"tittel": "1 Atomer, molekyler og ioner", "side": 16, "under": [{"tittel": "Oppgaver", "side": 16}, {"tittel": "A 1.1\u20131.10 Aktiviteter", "side": 24}, {"tittel": "\u00d8 1.1 Vi studerer ulike grunnstoffer", "side": 28}, {"tittel": "\u00d8 1.2 Spektralanalyse", "side": 28}, {"tittel": "\u00d8 1.3 Oksygen", "side": 29}, {"tittel": "\u00d8 1.4 Hydrogen", "side": 30}, {"tittel": "\u00d8 1.5 Flammepr\u00f8ver", "side": 32}]}, {"tittel": "2 Kjemiske bindinger", "side": 33, "under": [{"tittel": "Oppgaver", "side": 33}, {"tittel": "A 2.1\u20132.9 Aktiviteter", "side": 38}, {"tittel": "\u00d8 2.1 Salter", "side": 42}, {"tittel": "\u00d8 2.2 Krystaller", "side": 42}, {"tittel": "\u00d8 2.3 Molekylmodeller", "side": 42}, {"tittel": "\u00d8 2.4 Jordalkalimetaller", "side": 43}, {"tittel": "\u00d8 2.5 Halogenene. Jod", "side": 44}, {"tittel": "\u00d8 2.6 Slim", "side": 45}]}, {"tittel": "3 Kjemiske reaksjoner og navnsetting", "side": 46, "under": [{"tittel": "Oppgaver", "side": 46}, {"tittel": "A 3.1\u20133.6 Aktiviteter", "side": 50}, {"tittel": "\u00d8 3.1 Faseendringer", "side": 55}, {"tittel": "\u00d8 3.2 Forbrenning", "side": 55}, {"tittel": "\u00d8 3.3 Kobber og syrer", "side": 56}, {"tittel": "\u00d8 3.4 Reaksjonstyper: Felling", "side": 56}, {"tittel": "\u00d8 3.5 Indikator", "side": 57}, {"tittel": "\u00d8 3.6 Komplekser", "side": 57}, {"tittel": "\u00d8 3.7 Fellingsreaksjoner", "side": 58}, {"tittel": "\u00d8 3.8 Karbondioksid", "side": 60}]}, {"tittel": "4 St\u00f8kiometri", "side": 61, "under": [{"tittel": "Oppgaver", "side": 61}, {"tittel": "A 4.1\u20134.7 Aktiviteter", "side": 70}, {"tittel": "\u00d8 4.1 Masseforhold", "side": 74}, {"tittel": "\u00d8 4.2 Molekylmodeller", "side": 74}, {"tittel": "\u00d8 4.3 Laging av l\u00f8sninger", "side": 75}, {"tittel": "\u00d8 4.4 Krystallvann i et salt", "side": 76}, {"tittel": "\u00d8 4.5 Empirisk formel", "side": 77}, {"tittel": "\u00d8 4.6 Syntese av salt", "side": 79}]}, {"tittel": "5 Organiske forbindelser", "side": 81, "under": [{"tittel": "Oppgaver", "side": 81}, {"tittel": "A 5.1\u20135.9 Aktiviteter", "side": 88}, {"tittel": "\u00d8 5.1 Bygging av hydrokarboner", "side": 93}, {"tittel": "\u00d8 5.2 Isomeri i propanon", "side": 93}, {"tittel": "\u00d8 5.3 Hydrokarboner", "side": 94}, {"tittel": "\u00d8 5.4 L\u00f8selighet", "side": 96}, {"tittel": "\u00d8 5.5 Egenskaper til alkoholer", "side": 97}, {"tittel": "\u00d8 5.6 Analyse av organiske stoffer", "side": 98}, {"tittel": "\u00d8 5.7 Estere", "side": 99}]}, {"tittel": "6 Termokjemi", "side": 100, "under": [{"tittel": "Oppgaver", "side": 100}, {"tittel": "A 6.1\u20136.6 Aktiviteter", "side": 104}, {"tittel": "\u00d8 6.1 Papir som ikke brenner", "side": 109}, {"tittel": "\u00d8 6.2 Eksoterme og endoterme reaksjoner", "side": 109}, {"tittel": "\u00d8 6.3 Reaksjonsfart og temperatur", "side": 110}, {"tittel": "\u00d8 6.4 Spalting av hydrogenperoksid", "side": 111}, {"tittel": "\u00d8 6.5 Reaksjonsfart: konsentrasjon", "side": 111}, {"tittel": "\u00d8 6.8 Katalyse", "side": 115}]}, {"tittel": "7 Kjemisk likevekt", "side": 118, "under": [{"tittel": "Oppgaver", "side": 118}, {"tittel": "A 7.1\u20137.8 Aktiviteter", "side": 122}, {"tittel": "\u00d8 7.1 Reversible reaksjoner", "side": 127}, {"tittel": "\u00d8 7.2 Likevekt", "side": 127}, {"tittel": "\u00d8 7.3 Le Ch\u00e2teliers prinsipp 1", "side": 128}, {"tittel": "\u00d8 7.4 Le Ch\u00e2teliers prinsipp 2", "side": 130}]}, {"tittel": "8 Syrer og baser", "side": 131, "under": [{"tittel": "Oppgaver", "side": 131}, {"tittel": "A 8.1\u20138.8 Aktiviteter", "side": 137}, {"tittel": "\u00d8 8.1 Skumbeite", "side": 143}, {"tittel": "\u00d8 8.4 Indikatorer", "side": 144}, {"tittel": "\u00d8 8.5 Styrke og pH-meter", "side": 144}, {"tittel": "\u00d8 8.6 Titrering", "side": 145}, {"tittel": "\u00d8 8.7 Analyse av rustfjerner", "side": 146}, {"tittel": "\u00d8 8.8 Analyse av batterisyre", "side": 148}]}, {"tittel": "9 L\u00f8sninger og l\u00f8selighet", "side": 149, "under": [{"tittel": "Oppgaver", "side": 149}, {"tittel": "A 9.1\u20139.8 Aktiviteter", "side": 154}, {"tittel": "\u00d8 9.1 Drue i Farris", "side": 159}, {"tittel": "\u00d8 9.2 Absorbering i bleier", "side": 159}, {"tittel": "\u00d8 9.3 M\u00e5ling av l\u00f8sningsentalpi", "side": 160}, {"tittel": "\u00d8 9.6 Analyse av ukjente saltl\u00f8sninger", "side": 164}, {"tittel": "\u00d8 9.8 Analyse av kloridinnhold i krydder", "side": 167}]}, {"tittel": "10 Kjemisk analyse", "side": 169, "under": [{"tittel": "Oppgaver", "side": 169}, {"tittel": "A 10.1\u201310.5 Aktiviteter", "side": 174}, {"tittel": "\u00d8 10.1 Analyse av kalsium og magnesium i Farris", "side": 179}, {"tittel": "\u00d8 10.3 Gravimetrisk titrering", "side": 182}, {"tittel": "\u00d8 10.6 Innhold av energi i kalorimetri", "side": 184}, {"tittel": "\u00d8 10.9 Analyse av fosfat i vaskemiddel", "side": 187}]}, {"tittel": "11 Gr\u00f8nn kjemi", "side": 189, "under": [{"tittel": "Oppgaver", "side": 189}, {"tittel": "A 11.1\u201311.12 Aktiviteter", "side": 190}, {"tittel": "\u00d8 11.1 Syntese av biodiesel", "side": 195}, {"tittel": "\u00d8 11.2 Syntese av bioplast", "side": 197}]}, {"tittel": "Kjemikalier og oppskrifter", "side": 198, "under": []}, {"tittel": "Utdrag fra l\u00e6replan", "side": 200, "under": []}, {"tittel": "Fasit", "side": 203, "under": []}];
    const fileList = ["page0001.svgz", "page0002.svgz", "page0003.svgz", "page0004.svgz", "page0005.svgz", "page0006.svgz", "page0007.svgz", "page0008.svgz", "page0009.svgz", "page0010.svgz", "page0011.svgz", "page0012.svgz", "page0013.svgz", "page0014.svgz", "page0015.svgz", "page0016.svgz", "page0017.svgz", "page0018.svgz", "page0019.svgz", "page0020.svgz", "page0021.svgz", "page0022.svgz", "page0023.svgz", "page0024.svgz", "page0025.svgz", "page0026.svgz", "page0027.svgz", "page0028.svgz", "page0029.svgz", "page0030.svgz", "page0031.svgz", "page0032.svgz", "page0033.svgz", "page0034.svgz", "page0035.svgz", "page0036.svgz", "page0037.svgz", "page0038.svgz", "page0039.svgz", "page0040.svgz", "page0041.svgz", "page0042.svgz", "page0043.svgz", "page0044.svgz", "page0045.svgz", "page0046.svgz", "page0047.svgz", "page0048.svgz", "page0049.svgz", "page0050.svgz", "page0051.svgz", "page0052.svgz", "page0053.svgz", "page0054.svgz", "page0055.svgz", "page0056.svgz", "page0057.svgz", "page0058.svgz", "page0059.svgz", "page0060.svgz", "page0061.svgz", "page0062.svgz", "page0063.svgz", "page0064.svgz", "page0065.svgz", "page0066.svgz", "page0067.svgz", "page0068.svgz", "page0069.svgz", "page0070.svgz", "page0071.svgz", "page0072.svgz", "page0073.svgz", "page0074.svgz", "page0075.svgz", "page0076.svgz", "page0077.svgz", "page0078.svgz", "page0079.svgz", "page0080.svgz", "page0081.svgz", "page0082.svgz", "page0083.svgz", "page0084.svgz", "page0085.svgz", "page0086.svgz", "page0087.svgz", "page0088.svgz", "page0089.svgz", "page0090.svgz", "page0091.svgz", "page0092.svgz", "page0093.svgz", "page0094.svgz", "page0095.svgz", "page0096.svgz", "page0097.svgz", "page0098.svgz", "page0099.svgz", "page0100.svgz", "page0101.svgz", "page0102.svgz", "page0103.svgz", "page0104.svgz", "page0105.svgz", "page0106.svgz", "page0107.svgz", "page0108.svgz", "page0109.svgz", "page0110.svgz", "page0111.svgz", "page0112.svgz", "page0113.svgz", "page0114.svgz", "page0115.svgz", "page0116.svgz", "page0117.svgz", "page0118.svgz", "page0119.svgz", "page0120.svgz", "page0121.svgz", "page0122.svgz", "page0123.svgz", "page0124.svgz", "page0125.svgz", "page0126.svgz", "page0127.svgz", "page0128.svgz", "page0129.svgz", "page0130.svgz", "page0131.svgz", "page0132.svgz", "page0133.svgz", "page0134.svgz", "page0135.svgz", "page0136.svgz", "page0137.svgz", "page0138.svgz", "page0139.svgz", "page0140.svgz", "page0141.svgz", "page0142.svgz", "page0143.svgz", "page0144.svgz", "page0145.svgz", "page0146.svgz", "page0147.svgz", "page0148.svgz", "page0149.svgz", "page0150.svgz", "page0151.svgz", "page0152.svgz", "page0153.svgz", "page0154.svgz", "page0155.svgz", "page0156.svgz", "page0157.svgz", "page0158.svgz", "page0159.svgz", "page0160.svgz", "page0161.svgz", "page0162.svgz", "page0163.svgz", "page0164.svgz", "page0165.svgz", "page0166.svgz", "page0167.svgz", "page0168.svgz", "page0169.svgz", "page0170.svgz", "page0171.svgz", "page0172.svgz", "page0173.svgz", "page0174.svgz", "page0175.svgz", "page0176.svgz", "page0177.svgz", "page0178.svgz", "page0179.svgz", "page0180.svgz", "page0181.svgz", "page0182.svgz", "page0183.svgz", "page0184.svgz", "page0185.svgz", "page0186.svgz", "page0187.svgz", "page0188.svgz", "page0189.svgz", "page0190.svgz", "page0191.svgz", "page0192.svgz", "page0193.svgz", "page0194.svgz", "page0195.svgz", "page0196.svgz", "page0197.svgz", "page0198.svgz", "page0199.svgz", "page0200.svgz", "page0201.svgz", "page0202.svgz", "page0203.svgz", "page0204.svgz", "page0205.svgz", "page0206.svgz", "page0207.svgz", "page0208.svgz", "page0209.svgz", "page0210.svgz", "page0211.svgz", "page0212.svgz", "page0213.svgz", "page0214.svgz", "page0215.svgz", "page0216.svgz", "page0217.svgz", "page0218.svgz", "page0219.svgz", "page0220.svgz", "page0221.svgz", "page0222.svgz", "page0223.svgz", "page0224.svgz", "page0225.svgz", "page0226.svgz", "page0227.svgz", "page0228.svgz"];
    const MAX_P = 328;
    let viewIdx = 0, currZoom = 1.0;

    function toggleSidebar() { document.getElementById('sidebar').classList.toggle('open'); }
    function renderTOC() {
        const con = document.getElementById('toc-content');
        let html = '';
        tocData.forEach((kap, idx) => {
            const hasSub = kap.under && kap.under.length > 0;
            const action = hasSub ? `toggleKap(${idx})` : `goToPage(${kap.side})`;
            html += `<div class="toc-item" id="kap-${idx}"><div class="toc-header" onclick="${action}"><span>${kap.tittel}</span></div>`;
            if(hasSub) {
                html += `<div class="toc-sub">`;
                kap.under.forEach(sub => { html += `<div class="sub-item" onclick="goToPage(${sub.side})">${sub.tittel}</div>`; });
                html += `</div>`;
            }
            html += `</div>`;
        });
        con.innerHTML = html;
    }
    function toggleKap(idx) { document.getElementById('kap-' + idx).classList.toggle('open'); }
    function renderPage() {
        const con = document.getElementById('book-container'); con.innerHTML = '';
        let p1 = (viewIdx === 0) ? 1 : viewIdx * 2;
        let p2 = (viewIdx === 0) ? null : viewIdx * 2 + 1;
        if (p1 <= MAX_P) addPage(p1);
        if (p2 && p2 <= MAX_P) addPage(p2);
        document.getElementById('page-input').value = p1;
        document.getElementById('viewport').scrollTop = 0;
    }
    function addPage(num) {
        const img = document.createElement('img');
        img.src = fileList[num - 1]; img.className = 'page-img';
        img.setAttribute('type', 'image/svg+xml');
        document.getElementById('book-container').appendChild(img);
    }
    function jumpToPage() {
        let p = parseInt(document.getElementById('page-input').value);
        if(isNaN(p) || p < 1) p = 1; if(p > MAX_P) p = MAX_P;
        goToPage(p);
    }
    function nav(dir) {
        let next = viewIdx + dir;
        if (next >= 0 && next <= Math.floor(MAX_P / 2)) { viewIdx = next; renderPage(); }
    }
    function goToPage(p) { viewIdx = (p === 1) ? 0 : Math.floor(p / 2); renderPage(); }
    function zoom(v) { currZoom += v; applyZ(); }
    function resetZ() { currZoom = 1.0; applyZ(); }
    function applyZ() { document.getElementById('book-container').style.transform = `scale(${currZoom})`; }

    renderTOC(); renderPage();
</script>
</body>
</html>
    